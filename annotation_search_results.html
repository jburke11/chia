<!--
=========================================================
* Argon Design System - v1.2.0
=========================================================

* Product Page: https://www.creative-tim.com/product/argon-design-system
* Copyright 2020 Creative Tim (http://www.creative-tim.com)

Coded by www.creative-tim.com

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <title>
    ChiaDB Search Tools
  </title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <!-- Nucleo Icons -->
  <link href="./assets/css/nucleo-icons.css" rel="stylesheet" />
  <link href="./assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <link href="./assets/css/font-awesome.css" rel="stylesheet" />
  <link href="./assets/css/nucleo-svg.css" rel="stylesheet" />
  <!-- CSS Files -->
  <link href="./assets/css/argon-design-system.css?v=1.2.0" rel="stylesheet" />
  <!--   Core JS Files   -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="./assets/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="./assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="./assets/js/core/bootstrap.min.js" type="text/javascript"></script>
  <script src="./assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="./assets/js/plugins/bootstrap-switch.js"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="./assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <script src="./assets/js/plugins/moment.min.js"></script>
  <script src="./assets/js/plugins/datetimepicker.js" type="text/javascript"></script>
  <script src="./assets/js/plugins/bootstrap-datepicker.min.js"></script>
  <!-- Control Center for Argon UI Kit: parallax effects, scripts for the example pages etc -->
  <!--  Google Maps Plugin    -->
  <script src="./assets/js/argon-design-system.min.js?v=1.2.0" type="text/javascript"></script>
  <script>
    function scrollToDownload() {

      if ($('.section-download').length != 0) {
        $("html, body").animate({
          scrollTop: $('.section-download').offset().top
        }, 1000);
      }
    }
  </script>
</head>

<body class="index-page">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-default">
    <div class="container">
        <a class="navbar-brand" href="index.html">ChiaDB</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-default" aria-controls="navbar-default" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbar-default">
            <div class="navbar-collapse-header">
                <div class="row">
                    <div class="col-6 collapse-brand">
                        <a href="index.html">
                            CHIADB
                        </a>
                    </div>
                    <div class="col-6 collapse-close">
                        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-default" aria-controls="navbar-default" aria-expanded="false" aria-label="Toggle navigation">
                            <span></span>
                            <span></span>
                        </button>
                    </div>
                </div>
            </div>

            <ul class="navbar-nav ml-lg-auto">
                <li class="nav-item">
                    <a class="nav-link" href="search.html">
                      Search Tools
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="downloads.html">
                        Downloads
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="downloads.html">
                        About
                    </a>
                </li>
            </ul>

        </div>
    </div>
</nav>
  <!-- End Navbar -->

  <div class="wrapper" id="wrapper">
    <div class="section section-components">
      <div class="container">
        <div class = "row">
          <div class = "col-md-3">
            <nav aria-label="Page navigation example">
              <ul class="pagination">
                <li class="page-item disabled" v-if="index1 === 0">
                  <a class="page-link" aria-label="Previous" v-on:click="previous_page">
                    <i class="fa fa-angle-left"></i>
                    <span class="sr-only">Previous</span>
                  </a>
                </li>
                <li class="page-item active" v-else>
                  <a class="page-link" aria-label="Previous" v-on:click="previous_page">
                    <i class="fa fa-angle-left"></i>
                    <span class="sr-only">Previous</span>
                  </a>
                </li>
                <li class="page-item disabled" v-if="index2 === func_search_length || index2 >= func_search_length">
                  <a class="page-link" aria-label="Next" v-on:click="next_page">
                    <i class="fa fa-angle-right"></i>
                    <span class="sr-only">Next</span>
                  </a>
                </li>
                <li class="page-item active" v-else>
                  <a class="page-link" aria-label="Next" v-on:click="next_page">
                    <i class="fa fa-angle-right"></i>
                    <span class="sr-only">Next</span>
                  </a>
                </li>
              </ul>
            </nav>
          </div>
          <div class="col-lg-8 text-right">
            <a href="javascript:JSON.stringify(func_anno_data);" download="func_anno_search.json">Download this search in JSON!</a>
          </div>
        </div>
          <div class="row justify-content-center">
            <div class="col-lg-12">
              <table class="table table-bordered table-striped">
                  <thead>
                      <tr>
                          <th class="text-center">Sequence ID</th>
                          <th class="text-center">Functional Annotation</th>
                      </tr>
                  </thead>
                  <tbody>
                      <tr v-for="item in get_pages">
                          <td class="text-center">{{item.transcript_id}}</td>
                          <td class="text-center">{{item.func_anno}}</td>
                      </tr>
                  </tbody>
              </table>
            </div>
          </div>
          <div class = "row justify-content-right">
            <div class = "col-sm-12">
              <nav aria-label="Page navigation example">
                <ul class="pagination">
                  <li class="page-item disabled" v-if="index1 === 0">
                    <a class="page-link" aria-label="Previous" v-on:click="previous_page">
                      <i class="fa fa-angle-left"></i>
                      <span class="sr-only">Previous</span>
                    </a>
                  </li>
                  <li class="page-item active" v-else>
                    <a class="page-link" aria-label="Previous" v-on:click="previous_page">
                      <i class="fa fa-angle-left"></i>
                      <span class="sr-only">Previous</span>
                    </a>
                  </li>
                  <li class="page-item disabled" v-if="index2 === func_search_length || index2 >= func_search_length">
                    <a class="page-link" aria-label="Next" v-on:click="next_page">
                      <i class="fa fa-angle-right"></i>
                      <span class="sr-only">Next</span>
                    </a>
                  </li>
                  <li class="page-item active" v-else>
                    <a class="page-link" aria-label="Next" v-on:click="next_page">
                      <i class="fa fa-angle-right"></i>
                      <span class="sr-only">Next</span>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
</body>
<script>
var func_anno_data = JSON.parse(sessionStorage.getItem("func_anno"));
var app = new Vue({
  el: "#wrapper",
  data: {func_anno_data,
        index1: 0,
        index2: 100,
        page: 1
      },
  methods: {
          next_page: function(){
            this.index1 += 100;
            if (this.index2 + 100 >= this.func_anno_data.func_anno.length){
              this.index2 = this.func_anno_data.func_anno.length;
            }
            else {
              this.index2 += 100;
            }
          },
          previous_page: function(){
            this.index1 -= 100;
            var remain = this.index2 % 100;
            if (this.index1 - 1 <= 0 ){
              this.index1 = 0;
              this.index2 = 100;
            }
            else if (remain === 0){
              this.index2 -= 100
            }
            else{
              this.index2 -= remain;
            }
          }
        },
        computed:{
          func_search_length: function(){
            return this.func_anno_data.func_anno.length;
          },
          get_pages: function(){
            return this.func_anno_data.func_anno.slice(this.index1, this.index2);
          }
        }
})
</script>
</html>
